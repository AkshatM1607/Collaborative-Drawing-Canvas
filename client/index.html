<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Co-Draw | Real-Time Collaborative Canvas</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Outfit:wght@500;700;800&display=swap" rel="stylesheet">
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Toolbar -->
        <header class="toolbar glass">
            <div class="logo">
                <h1>Co-Draw</h1>
            </div>
            
            <div class="divider"></div>

            <div class="tool-section">
                <button id="tool-brush" class="tool-btn active" title="Brush">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08"/><path d="M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.21 0 4-1.79 4-4.04 0-1.65-1.34-3-3-3.02z"/></svg>
                </button>
                <button id="tool-eraser" class="tool-btn" title="Eraser">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21"/><path d="m22 21H7"/><path d="m5 11 9 9"/></svg>
                </button>
            </div>

            <div class="divider"></div>

            <div class="color-section">
                <div class="color-picker-wrapper">
                    <input type="color" id="color-picker" value="#ffffff">
                </div>
                <div class="presets">
                    <div class="color-preset active" style="background: #ffffff" data-color="#ffffff"></div>
                    <div class="color-preset" style="background: #ff5733" data-color="#ff5733"></div>
                    <div class="color-preset" style="background: #33ff57" data-color="#33ff57"></div>
                    <div class="color-preset" style="background: #3357ff" data-color="#3357ff"></div>
                </div>
            </div>

            <div class="divider"></div>

            <div class="size-section">
                <input type="range" id="size-slider" min="1" max="50" value="5">
                <span id="size-value">5px</span>
            </div>

            <div class="divider"></div>

            <div class="action-section">
                <button id="btn-undo" class="action-btn" title="Undo (Global)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 7v6h6"/><path d="M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"/></svg>
                </button>
                <button id="btn-redo" class="action-btn" title="Redo (Global)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 7v6h-6"/><path d="M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"/></svg>
                </button>
                <button id="btn-clear" class="action-btn danger" title="Clear Canvas">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>
                </button>
            </div>
        </header>

        <!-- Main Canvas Area -->
        <main class="canvas-wrapper">
            <canvas id="main-canvas"></canvas>
            <!-- Cursor Overlay Layer -->
            <div id="cursors-container"></div>
        </main>

        <!-- User List Sidebar -->
        <aside class="sidebar glass">
            <h3>Online Users</h3>
            <ul id="user-list">
                <!-- Users will be populated here -->
            </ul>
        </aside>

        <!-- User Badge -->
        <div id="self-indicator" class="glass">
            <span class="color-dot" id="self-color"></span>
            <span id="self-name">Joining...</span>
        </div>
    </div>

    <script src="canvas.js"></script>
    <script src="websocket.js"></script>
    <script src="main.js"></script>
</body>
</html>
